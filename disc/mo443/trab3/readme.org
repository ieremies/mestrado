#+Title: Trabalho 3
#+Subtitle: Processamento Digital de Imagem
#+Author: Ieremies Vieira da Fonseca Romero
#+Options: toc:nil num:nil date:nil
#+LATEX_CLASS_OPTIONS: [twocolumn, 10pt]
#+PROPERTY: header-args:python :session a
#+PROPERTY: header-args:python :results silent
#+PROPERTY: header-args:python :tangle funcs.py

Conferir se zero é preto usando uma iamgem pequena com meu nome ou algo assim

#+begin_src python
import cv2
import numpy as np

img = cv2.imread('bitmap.pbm', cv2.IMREAD_UNCHANGED)
img[img == 0] = 1   # all black pixels to 1
img[img == 255] = 0 # all whites pixels to 0
#+end_src
Agora nós temos uma imagem representada por zeros e uns onde o texto é demarcado pelos pixels com valor de $1$.
Filtramos qualquer componente conexa com menos de $370$ pixels.

|    x |    y |    w |   h | # black | % black | v trans | h trans |
|------+------+------+-----+---------+---------+---------+---------|
| 1039 |   28 | 1150 |  25 |   24201 | 0.15823 |    1148 |      22 |
|   32 |   36 |   42 |  21 |     866 | 0.01814 |      41 |      20 |
|  264 |  139 |  572 | 561 |  315070 | 0.01814 |     569 |     558 |
| 1142 |  147 | 1046 |  40 |   26026 | 0.37796 |    1043 |      37 |
| 1142 |  198 | 1046 |  40 |   27655 | 0.33903 |    1043 |      37 |
| 1142 |  248 |  636 |  39 |   16418 | 0.33809 |     633 |      36 |
| 1182 |  298 | 1007 |  39 |   27082 | 0.31042 |    1004 |      36 |
| 1142 |  348 | 1047 |  40 |   24980 | 0.40310 |    1044 |      37 |
| 1144 |  399 | 1045 |  38 |   23916 | 0.39736 |    1043 |      33 |
| 1143 |  448 | 1046 |  40 |   27645 | 0.33927 |    1044 |      37 |
| 1144 |  499 | 1046 |  40 |   25112 | 0.39981 |    1043 |      37 |
| 1146 |  548 | 1044 |  40 |   27850 | 0.33309 |    1041 |      37 |
| 1144 |  599 | 1046 |  39 |   25728 | 0.36932 |    1044 |      36 |
| 1144 |  649 | 1046 |  39 |   29589 | 0.27467 |    1044 |      36 |
| 1145 |  700 |  435 |  31 |   10046 | 0.25502 |     433 |      29 |
| 1411 |  768 |  780 |  37 |   19093 | 0.33843 |     777 |      33 |
|  362 |  771 |  367 | 349 |   21828 | 0.82835 |     360 |     340 |
| 1186 |  771 |  102 |  36 |    2650 | 0.27832 |      99 |      33 |
| 1411 |  815 |  261 |  37 |    7153 | 0.25929 |     259 |      34 |
| 1410 |  860 |  781 |  38 |   19602 | 0.33951 |     780 |      35 |
| 1186 |  862 |  157 |  37 |    3384 | 0.41746 |     155 |      34 |
| 1411 |  907 |  290 |  38 |    9325 | 0.15381 |     288 |      36 |
| 1411 |  952 |  780 |  30 |   17480 | 0.25214 |     779 |      28 |
| 1187 |  955 |  183 |  36 |    5171 | 0.21509 |     180 |      34 |
| 1413 |  999 |  274 |  38 |    8155 | 0.21677 |     271 |      36 |
| 1411 | 1044 |  781 |  38 |   18713 | 0.36947 |     779 |      35 |
| 1187 | 1046 |  181 |  37 |    4129 | 0.38346 |     179 |      32 |
| 1413 | 1092 |  289 |  37 |    9015 | 0.15693 |     287 |      35 |
| 1412 | 1136 |  781 |  39 |   19180 | 0.36964 |     778 |      36 |
| 1188 | 1138 |  138 |  29 |    3543 | 0.11469 |     136 |      27 |
| 1413 | 1182 |  782 |  39 |   19421 | 0.36320 |     779 |      36 |
|  173 | 1186 |  914 |  33 |   17322 | 0.42534 |     912 |      31 |
|   40 | 1190 |   96 |  30 |    1355 | 0.52951 |      94 |      25 |
|  522 | 1225 |   83 |  31 |    1547 | 0.39876 |      80 |      28 |
| 1413 | 1227 |  780 |  39 |   21070 | 0.30726 |     777 |      36 |
| 1413 | 1274 |  780 |  38 |   19083 | 0.35617 |     778 |      35 |
| 1414 | 1321 |  384 |  37 |    9646 | 0.32109 |     381 |      34 |
#+begin_src python
def save(img):
    # turn back to gray scale
    img[img == 0] = 255
    img[img == 1] = 0
    cv2.imwrite('out.png', img)

save(img)
#+end_src
